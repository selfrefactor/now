{"id":"../../../stories/src/bees/convertImage.js","dependencies":[{"name":"/home/s/repos/now/packages/reddit-viewer/package.json","includedInParent":true,"mtime":1565256552351},{"name":"/home/s/repos/now/packages/reddit-viewer/.babelrc","includedInParent":true,"mtime":1555741353703},{"name":"rambdax","loc":{"line":1,"column":23},"parent":"/home/s/repos/stories/src/bees/convertImage.js","resolved":"/home/s/repos/stories/node_modules/rambdax/dist/rambdax.esm.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.convertImageBee = convertImageBee;\n\nvar _rambdax = require(\"rambdax\");\n\nconst proxyUrl = 'https://ilearnsmarter.com/cors/';\n\nfunction convertImageBee(urlRaw) {\n  const url = (0, _rambdax.remove)(['https://', 'http://'], urlRaw);\n  return new Promise(resolve => {\n    const xhr = new XMLHttpRequest();\n\n    xhr.onload = function () {\n      const reader = new FileReader();\n\n      reader.onloadend = function () {\n        return resolve(reader.result);\n      };\n\n      reader.readAsDataURL(xhr.response);\n    };\n\n    xhr.open('GET', proxyUrl + url);\n    xhr.responseType = 'blob';\n    xhr.send();\n  });\n}","map":{"mappings":[{"generated":{"line":8,"column":0},"source":"../../../stories/src/bees/convertImage.js","original":{"line":1,"column":0}},{"generated":{"line":10,"column":0},"source":"../../../stories/src/bees/convertImage.js","original":{"line":2,"column":0}},{"name":"proxyUrl","generated":{"line":10,"column":6},"source":"../../../stories/src/bees/convertImage.js","original":{"line":2,"column":6}},{"generated":{"line":10,"column":14},"source":"../../../stories/src/bees/convertImage.js","original":{"line":2,"column":14}},{"generated":{"line":10,"column":17},"source":"../../../stories/src/bees/convertImage.js","original":{"line":2,"column":17}},{"generated":{"line":10,"column":50},"source":"../../../stories/src/bees/convertImage.js","original":{"line":2,"column":0}},{"generated":{"line":12,"column":0},"source":"../../../stories/src/bees/convertImage.js","original":{"line":4,"column":7}},{"name":"convertImageBee","generated":{"line":12,"column":9},"source":"../../../stories/src/bees/convertImage.js","original":{"line":4,"column":16}},{"generated":{"line":12,"column":24},"source":"../../../stories/src/bees/convertImage.js","original":{"line":4,"column":7}},{"name":"urlRaw","generated":{"line":12,"column":25},"source":"../../../stories/src/bees/convertImage.js","original":{"line":4,"column":32}},{"generated":{"line":12,"column":31},"source":"../../../stories/src/bees/convertImage.js","original":{"line":4,"column":7}},{"generated":{"line":12,"column":33},"source":"../../../stories/src/bees/convertImage.js","original":{"line":4,"column":39}},{"generated":{"line":13,"column":0},"source":"../../../stories/src/bees/convertImage.js","original":{"line":5,"column":2}},{"name":"url","generated":{"line":13,"column":8},"source":"../../../stories/src/bees/convertImage.js","original":{"line":5,"column":8}},{"generated":{"line":13,"column":11},"source":"../../../stories/src/bees/convertImage.js","original":{"line":5,"column":11}},{"generated":{"line":13,"column":14},"source":"../../../stories/src/bees/convertImage.js","original":{"line":5,"column":14}},{"generated":{"line":13,"column":35},"source":"../../../stories/src/bees/convertImage.js","original":{"line":5,"column":21}},{"generated":{"line":13,"column":36},"source":"../../../stories/src/bees/convertImage.js","original":{"line":6,"column":4}},{"generated":{"line":13,"column":46},"source":"../../../stories/src/bees/convertImage.js","original":{"line":5,"column":21}},{"generated":{"line":13,"column":48},"source":"../../../stories/src/bees/convertImage.js","original":{"line":7,"column":4}},{"generated":{"line":13,"column":57},"source":"../../../stories/src/bees/convertImage.js","original":{"line":5,"column":21}},{"generated":{"line":13,"column":58},"source":"../../../stories/src/bees/convertImage.js","original":{"line":5,"column":14}},{"name":"urlRaw","generated":{"line":13,"column":60},"source":"../../../stories/src/bees/convertImage.js","original":{"line":8,"column":5}},{"generated":{"line":13,"column":66},"source":"../../../stories/src/bees/convertImage.js","original":{"line":5,"column":14}},{"generated":{"line":13,"column":67},"source":"../../../stories/src/bees/convertImage.js","original":{"line":5,"column":2}},{"generated":{"line":14,"column":0},"source":"../../../stories/src/bees/convertImage.js","original":{"line":10,"column":2}},{"generated":{"line":14,"column":9},"source":"../../../stories/src/bees/convertImage.js","original":{"line":10,"column":9}},{"name":"Promise","generated":{"line":14,"column":13},"source":"../../../stories/src/bees/convertImage.js","original":{"line":10,"column":13}},{"generated":{"line":14,"column":20},"source":"../../../stories/src/bees/convertImage.js","original":{"line":10,"column":9}},{"name":"resolve","generated":{"line":14,"column":21},"source":"../../../stories/src/bees/convertImage.js","original":{"line":10,"column":21}},{"generated":{"line":14,"column":28},"source":"../../../stories/src/bees/convertImage.js","original":{"line":10,"column":28}},{"generated":{"line":14,"column":32},"source":"../../../stories/src/bees/convertImage.js","original":{"line":10,"column":32}},{"generated":{"line":15,"column":0},"source":"../../../stories/src/bees/convertImage.js","original":{"line":11,"column":4}},{"name":"xhr","generated":{"line":15,"column":10},"source":"../../../stories/src/bees/convertImage.js","original":{"line":11,"column":10}},{"generated":{"line":15,"column":13},"source":"../../../stories/src/bees/convertImage.js","original":{"line":11,"column":13}},{"generated":{"line":15,"column":16},"source":"../../../stories/src/bees/convertImage.js","original":{"line":11,"column":16}},{"name":"XMLHttpRequest","generated":{"line":15,"column":20},"source":"../../../stories/src/bees/convertImage.js","original":{"line":11,"column":20}},{"generated":{"line":15,"column":34},"source":"../../../stories/src/bees/convertImage.js","original":{"line":11,"column":16}},{"generated":{"line":15,"column":36},"source":"../../../stories/src/bees/convertImage.js","original":{"line":11,"column":4}},{"name":"xhr","generated":{"line":17,"column":0},"source":"../../../stories/src/bees/convertImage.js","original":{"line":12,"column":4}},{"name":"xhr","generated":{"line":17,"column":4},"source":"../../../stories/src/bees/convertImage.js","original":{"line":12,"column":4}},{"generated":{"line":17,"column":7},"source":"../../../stories/src/bees/convertImage.js","original":{"line":12,"column":7}},{"name":"onload","generated":{"line":17,"column":8},"source":"../../../stories/src/bees/convertImage.js","original":{"line":12,"column":8}},{"generated":{"line":17,"column":14},"source":"../../../stories/src/bees/convertImage.js","original":{"line":12,"column":4}},{"generated":{"line":17,"column":17},"source":"../../../stories/src/bees/convertImage.js","original":{"line":12,"column":17}},{"generated":{"line":17,"column":29},"source":"../../../stories/src/bees/convertImage.js","original":{"line":12,"column":27}},{"generated":{"line":18,"column":0},"source":"../../../stories/src/bees/convertImage.js","original":{"line":13,"column":6}},{"name":"reader","generated":{"line":18,"column":12},"source":"../../../stories/src/bees/convertImage.js","original":{"line":13,"column":12}},{"generated":{"line":18,"column":18},"source":"../../../stories/src/bees/convertImage.js","original":{"line":13,"column":18}},{"generated":{"line":18,"column":21},"source":"../../../stories/src/bees/convertImage.js","original":{"line":13,"column":21}},{"name":"FileReader","generated":{"line":18,"column":25},"source":"../../../stories/src/bees/convertImage.js","original":{"line":13,"column":25}},{"generated":{"line":18,"column":35},"source":"../../../stories/src/bees/convertImage.js","original":{"line":13,"column":21}},{"generated":{"line":18,"column":37},"source":"../../../stories/src/bees/convertImage.js","original":{"line":13,"column":6}},{"name":"reader","generated":{"line":20,"column":0},"source":"../../../stories/src/bees/convertImage.js","original":{"line":14,"column":6}},{"name":"reader","generated":{"line":20,"column":6},"source":"../../../stories/src/bees/convertImage.js","original":{"line":14,"column":6}},{"generated":{"line":20,"column":12},"source":"../../../stories/src/bees/convertImage.js","original":{"line":14,"column":12}},{"name":"onloadend","generated":{"line":20,"column":13},"source":"../../../stories/src/bees/convertImage.js","original":{"line":14,"column":13}},{"generated":{"line":20,"column":22},"source":"../../../stories/src/bees/convertImage.js","original":{"line":14,"column":6}},{"generated":{"line":20,"column":25},"source":"../../../stories/src/bees/convertImage.js","original":{"line":14,"column":25}},{"generated":{"line":20,"column":37},"source":"../../../stories/src/bees/convertImage.js","original":{"line":14,"column":35}},{"generated":{"line":21,"column":0},"source":"../../../stories/src/bees/convertImage.js","original":{"line":15,"column":8}},{"name":"resolve","generated":{"line":21,"column":15},"source":"../../../stories/src/bees/convertImage.js","original":{"line":15,"column":15}},{"generated":{"line":21,"column":22},"source":"../../../stories/src/bees/convertImage.js","original":{"line":15,"column":22}},{"name":"reader","generated":{"line":21,"column":23},"source":"../../../stories/src/bees/convertImage.js","original":{"line":15,"column":23}},{"generated":{"line":21,"column":29},"source":"../../../stories/src/bees/convertImage.js","original":{"line":15,"column":29}},{"name":"result","generated":{"line":21,"column":30},"source":"../../../stories/src/bees/convertImage.js","original":{"line":15,"column":30}},{"generated":{"line":21,"column":36},"source":"../../../stories/src/bees/convertImage.js","original":{"line":15,"column":22}},{"generated":{"line":21,"column":37},"source":"../../../stories/src/bees/convertImage.js","original":{"line":15,"column":8}},{"generated":{"line":22,"column":0},"source":"../../../stories/src/bees/convertImage.js","original":{"line":16,"column":7}},{"generated":{"line":22,"column":7},"source":"../../../stories/src/bees/convertImage.js","original":{"line":14,"column":6}},{"name":"reader","generated":{"line":24,"column":0},"source":"../../../stories/src/bees/convertImage.js","original":{"line":17,"column":6}},{"name":"reader","generated":{"line":24,"column":6},"source":"../../../stories/src/bees/convertImage.js","original":{"line":17,"column":6}},{"generated":{"line":24,"column":12},"source":"../../../stories/src/bees/convertImage.js","original":{"line":17,"column":12}},{"name":"readAsDataURL","generated":{"line":24,"column":13},"source":"../../../stories/src/bees/convertImage.js","original":{"line":17,"column":13}},{"generated":{"line":24,"column":26},"source":"../../../stories/src/bees/convertImage.js","original":{"line":17,"column":6}},{"name":"xhr","generated":{"line":24,"column":27},"source":"../../../stories/src/bees/convertImage.js","original":{"line":17,"column":27}},{"generated":{"line":24,"column":30},"source":"../../../stories/src/bees/convertImage.js","original":{"line":17,"column":30}},{"name":"response","generated":{"line":24,"column":31},"source":"../../../stories/src/bees/convertImage.js","original":{"line":17,"column":31}},{"generated":{"line":24,"column":39},"source":"../../../stories/src/bees/convertImage.js","original":{"line":17,"column":6}},{"generated":{"line":25,"column":0},"source":"../../../stories/src/bees/convertImage.js","original":{"line":18,"column":5}},{"generated":{"line":25,"column":5},"source":"../../../stories/src/bees/convertImage.js","original":{"line":12,"column":4}},{"name":"xhr","generated":{"line":27,"column":0},"source":"../../../stories/src/bees/convertImage.js","original":{"line":19,"column":4}},{"name":"xhr","generated":{"line":27,"column":4},"source":"../../../stories/src/bees/convertImage.js","original":{"line":19,"column":4}},{"generated":{"line":27,"column":7},"source":"../../../stories/src/bees/convertImage.js","original":{"line":19,"column":7}},{"name":"open","generated":{"line":27,"column":8},"source":"../../../stories/src/bees/convertImage.js","original":{"line":19,"column":8}},{"generated":{"line":27,"column":12},"source":"../../../stories/src/bees/convertImage.js","original":{"line":19,"column":4}},{"generated":{"line":27,"column":13},"source":"../../../stories/src/bees/convertImage.js","original":{"line":19,"column":13}},{"generated":{"line":27,"column":18},"source":"../../../stories/src/bees/convertImage.js","original":{"line":19,"column":4}},{"name":"proxyUrl","generated":{"line":27,"column":20},"source":"../../../stories/src/bees/convertImage.js","original":{"line":19,"column":20}},{"generated":{"line":27,"column":28},"source":"../../../stories/src/bees/convertImage.js","original":{"line":19,"column":28}},{"name":"url","generated":{"line":27,"column":31},"source":"../../../stories/src/bees/convertImage.js","original":{"line":19,"column":31}},{"generated":{"line":27,"column":34},"source":"../../../stories/src/bees/convertImage.js","original":{"line":19,"column":4}},{"name":"xhr","generated":{"line":28,"column":0},"source":"../../../stories/src/bees/convertImage.js","original":{"line":20,"column":4}},{"name":"xhr","generated":{"line":28,"column":4},"source":"../../../stories/src/bees/convertImage.js","original":{"line":20,"column":4}},{"generated":{"line":28,"column":7},"source":"../../../stories/src/bees/convertImage.js","original":{"line":20,"column":7}},{"name":"responseType","generated":{"line":28,"column":8},"source":"../../../stories/src/bees/convertImage.js","original":{"line":20,"column":8}},{"generated":{"line":28,"column":20},"source":"../../../stories/src/bees/convertImage.js","original":{"line":20,"column":4}},{"generated":{"line":28,"column":23},"source":"../../../stories/src/bees/convertImage.js","original":{"line":20,"column":23}},{"generated":{"line":28,"column":29},"source":"../../../stories/src/bees/convertImage.js","original":{"line":20,"column":4}},{"name":"xhr","generated":{"line":29,"column":0},"source":"../../../stories/src/bees/convertImage.js","original":{"line":21,"column":4}},{"name":"xhr","generated":{"line":29,"column":4},"source":"../../../stories/src/bees/convertImage.js","original":{"line":21,"column":4}},{"generated":{"line":29,"column":7},"source":"../../../stories/src/bees/convertImage.js","original":{"line":21,"column":7}},{"name":"send","generated":{"line":29,"column":8},"source":"../../../stories/src/bees/convertImage.js","original":{"line":21,"column":8}},{"generated":{"line":29,"column":12},"source":"../../../stories/src/bees/convertImage.js","original":{"line":21,"column":4}},{"generated":{"line":30,"column":0},"source":"../../../stories/src/bees/convertImage.js","original":{"line":22,"column":3}},{"generated":{"line":30,"column":3},"source":"../../../stories/src/bees/convertImage.js","original":{"line":10,"column":9}},{"generated":{"line":30,"column":4},"source":"../../../stories/src/bees/convertImage.js","original":{"line":10,"column":2}},{"generated":{"line":31,"column":0},"source":"../../../stories/src/bees/convertImage.js","original":{"line":23,"column":1}}],"sources":{"../../../stories/src/bees/convertImage.js":"import { remove } from 'rambdax'\nconst proxyUrl = 'https://ilearnsmarter.com/cors/'\n\nexport function convertImageBee(urlRaw){\n  const url = remove([\n    'https://',\n    'http://',\n  ], urlRaw)\n\n  return new Promise(resolve => {\n    const xhr = new XMLHttpRequest()\n    xhr.onload = function(){\n      const reader = new FileReader()\n      reader.onloadend = function(){\n        return resolve(reader.result)\n      }\n      reader.readAsDataURL(xhr.response)\n    }\n    xhr.open('GET', proxyUrl + url)\n    xhr.responseType = 'blob'\n    xhr.send()\n  })\n}\n"},"lineCount":null}},"hash":"0146a16366958bbacf8c9cc62916f921","cacheData":{"env":{}}}